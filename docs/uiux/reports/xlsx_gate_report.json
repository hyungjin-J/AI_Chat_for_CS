{
  "sheet_map": {
    "toc": "00_통합목차",
    "error": "01_에러메시지코드",
    "code": "02_추가종합코드",
    "rbac": "38_권한 별 UI",
    "inconsistency": "90_불일치목록",
    "trace": "91_추적성매트릭스",
    "validation": "93_검증결과"
  },
  "missing_required": [],
  "screen_sheets": [
    "03_AGT001_로그인세션부트",
    "04_AGT002_홈",
    "05_AGT003_대화스트리밍",
    "06_AGT004_근거패널",
    "07_AGT005_템플릿추천",
    "08_AGT006_답변편집전송",
    "09_AGT007_차단세이프응답",
    "10_CUS001_위젯부트스트랩",
    "11_CUS002_첨부메시지",
    "12_CUS003_CSAT핸드오프",
    "13_ADM001_정책프롬프트승인",
    "14_ADM002_템플릿버전배포",
    "15_ADM003_KB모델툴MCP",
    "16_OPS001_대시보드모니터링",
    "17_OPS002_감사로그즉시조치"
  ],
  "screen_meta": [
    {
      "sheet_name": "03_AGT001_로그인세션부트",
      "expected_screen_id": "AGT-001",
      "actual_screen_id": "AGT-001",
      "program_text": "API-AUTH-LOGIN, API-AUTH-REFRESH, API-SESSION-BOOTSTRAP, API-AUTH-LOGOUT",
      "api_text": "POST /v1/auth/login; POST /v1/auth/refresh; GET /v1/chat/bootstrap; POST /v1/auth/logout",
      "role": "AGENT",
      "phase": "PHASE1",
      "has_section_input": true,
      "has_section_button": true,
      "has_section_exception": true,
      "has_section_test": true,
      "has_constraints": true,
      "used_error_codes": [
        "AI-009-409-CITATION",
        "AI-009-409-EVIDENCE",
        "AI-009-422-SCHEMA",
        "API-003-422",
        "API-008-429-BUDGET",
        "RAG-002-422-POLICY",
        "SEC-001-401-UNAUTH",
        "SEC-002-403",
        "SEC-003-409-PII",
        "SYS-001-404",
        "SYS-002-403",
        "SYS-004-409-TRACE"
      ],
      "used_req_ids": [
        "ADM-101",
        "AGT-001",
        "AI-009",
        "API-002",
        "API-003",
        "API-007",
        "API-008",
        "RAG-002",
        "SEC-001",
        "SEC-002",
        "SEC-003",
        "SYS-001",
        "SYS-002",
        "SYS-004",
        "TMP-003",
        "UI-001",
        "UI-008"
      ],
      "used_tables": [
        "TB_ATTACHMENT",
        "TB_AUDIT_LOG",
        "TB_AUTH_SESSION",
        "TB_GUARDRAIL_EVENT",
        "TB_MESSAGE",
        "TB_ROLE_PERMISSION",
        "TB_TENANT_DOMAIN",
        "TB_TENANT_QUOTA",
        "TB_USER_ROLE"
      ],
      "used_endpoints": [
        "/v1/auth/login",
        "/v1/auth/logout",
        "/v1/auth/refresh",
        "/v1/chat/bootstrap"
      ],
      "used_sse_types": [
        "citation",
        "done",
        "error",
        "heartbeat",
        "safe_response",
        "token",
        "tool"
      ]
    },
    {
      "sheet_name": "04_AGT002_홈",
      "expected_screen_id": "AGT-002",
      "actual_screen_id": "AGT-002",
      "program_text": "API-MESSAGE-LIST, OPS-ADMIN-DASHBOARD-SUMMARY",
      "api_text": "GET /v1/sessions/{session_id}/messages; GET /v1/admin/dashboard/summary",
      "role": "AGENT",
      "phase": "PHASE1",
      "has_section_input": true,
      "has_section_button": true,
      "has_section_exception": true,
      "has_section_test": true,
      "has_constraints": true,
      "used_error_codes": [
        "AI-009-409-CITATION",
        "AI-009-409-EVIDENCE",
        "AI-009-422-SCHEMA",
        "API-003-422",
        "API-008-429-BUDGET",
        "RAG-002-422-POLICY",
        "SEC-002-403",
        "SEC-003-409-PII",
        "SYS-001-404",
        "SYS-002-403",
        "SYS-004-409-TRACE"
      ],
      "used_req_ids": [
        "ADM-101",
        "AGT-002",
        "AI-009",
        "API-003",
        "API-007",
        "API-008",
        "CCH-001",
        "CCH-002",
        "OPS-001",
        "RAG-002",
        "SEC-002",
        "SEC-003",
        "SYS-001",
        "SYS-002",
        "SYS-004",
        "TMP-003",
        "UI-001",
        "UI-005"
      ],
      "used_tables": [
        "TB_ATTACHMENT",
        "TB_AUDIT_LOG",
        "TB_CONVERSATION",
        "TB_GUARDRAIL_EVENT",
        "TB_MESSAGE",
        "TB_OPS_EVENT",
        "TB_ROLE_PERMISSION",
        "TB_TENANT_QUOTA"
      ],
      "used_endpoints": [
        "/v1/admin/dashboard/summary",
        "/v1/sessions/{session_id}/messages"
      ],
      "used_sse_types": [
        "citation",
        "done",
        "error",
        "heartbeat",
        "safe_response",
        "token",
        "tool"
      ]
    },
    {
      "sheet_name": "05_AGT003_대화스트리밍",
      "expected_screen_id": "AGT-003",
      "actual_screen_id": "AGT-003",
      "program_text": "API-MESSAGE-POST, API-MESSAGE-RETRY, API-MESSAGE-LIST, API-STREAM-SSE, API-STREAM-RESUME, API-QUICKREPLY-POST, API-RAG-QUERY-CLASSIFY, API-RAG-CLARIFY-SUGGEST",
      "api_text": "POST /v1/sessions/{session_id}/messages; POST /v1/sessions/{session_id}/messages/{message_id}/retry; GET /v1/sessions/{session_id}/messages; GET /v1/sessions/{session_id}/messages/{message_id}/stream; POST /v1/rag/query/classify; POST /v1/rag/clarify/suggest",
      "role": "AGENT",
      "phase": "PHASE1",
      "has_section_input": true,
      "has_section_button": true,
      "has_section_exception": true,
      "has_section_test": true,
      "has_constraints": true,
      "used_error_codes": [
        "AI-002-409-LOW_CONFIDENCE",
        "AI-006-403-TOOL_DENY",
        "AI-009-409-CITATION",
        "AI-009-409-EVIDENCE",
        "AI-009-422-SCHEMA",
        "API-003-422",
        "API-008-429-BUDGET",
        "RAG-002-422-POLICY",
        "SEC-002-403",
        "SEC-003-409-PII",
        "SYS-001-404",
        "SYS-002-403",
        "SYS-004-409-TRACE"
      ],
      "used_req_ids": [
        "ADM-101",
        "AGT-003",
        "AI-001",
        "AI-002",
        "AI-003",
        "AI-006",
        "AI-009",
        "API-003",
        "API-004",
        "API-007",
        "API-008",
        "PERF-001",
        "RAG-002",
        "SEC-002",
        "SEC-003",
        "SYS-001",
        "SYS-002",
        "SYS-004",
        "TMP-003",
        "UI-001",
        "UI-002",
        "UI-003",
        "UI-004",
        "UI-005",
        "UI-009"
      ],
      "used_tables": [
        "TB_ANSWER_BANK",
        "TB_ATTACHMENT",
        "TB_AUDIT_LOG",
        "TB_GUARDRAIL_EVENT",
        "TB_MESSAGE",
        "TB_MESSAGE_ATTACHMENT",
        "TB_ROLE_PERMISSION",
        "TB_SEMANTIC_CACHE",
        "TB_STREAM_EVENT",
        "TB_TENANT_QUOTA"
      ],
      "used_endpoints": [
        "/v1/rag/clarify/suggest",
        "/v1/rag/query/classify",
        "/v1/sessions/{session_id}/messages",
        "/v1/sessions/{session_id}/messages/{message_id}/retry",
        "/v1/sessions/{session_id}/messages/{message_id}/stream",
        "/v1/sessions/{session_id}/messages/{message_id}/stream/resume",
        "/v1/sessions/{session_id}/quick-replies/{quick_reply_id}"
      ],
      "used_sse_types": [
        "citation",
        "done",
        "error",
        "heartbeat",
        "safe_response",
        "token",
        "tool"
      ]
    },
    {
      "sheet_name": "06_AGT004_근거패널",
      "expected_screen_id": "AGT-004",
      "actual_screen_id": "AGT-004",
      "program_text": "API-RAG-CITATIONS-GET, API-RAG-RETRIEVE, API-RAG-ANSWER",
      "api_text": "GET /v1/rag/answers/{answer_id}/citations; POST /v1/rag/retrieve; POST /v1/rag/answer",
      "role": "AGENT",
      "phase": "PHASE1",
      "has_section_input": true,
      "has_section_button": true,
      "has_section_exception": true,
      "has_section_test": true,
      "has_constraints": true,
      "used_error_codes": [
        "AI-009-409-CITATION",
        "AI-009-409-EVIDENCE",
        "AI-009-422-SCHEMA",
        "API-003-422",
        "API-008-429-BUDGET",
        "RAG-002-422-POLICY",
        "SEC-002-403",
        "SEC-003-409-PII",
        "SYS-001-404",
        "SYS-002-403",
        "SYS-004-409-TRACE"
      ],
      "used_req_ids": [
        "ADM-101",
        "AGT-004",
        "AI-004",
        "AI-005",
        "AI-009",
        "API-003",
        "API-007",
        "API-008",
        "KB-001",
        "KB-002",
        "KB-003",
        "RAG-001",
        "RAG-002",
        "RAG-003",
        "SEC-002",
        "SEC-003",
        "SYS-001",
        "SYS-002",
        "SYS-004",
        "TMP-003"
      ],
      "used_tables": [
        "TB_ATTACHMENT",
        "TB_AUDIT_LOG",
        "TB_GUARDRAIL_EVENT",
        "TB_KB_DOCUMENT_VERSION",
        "TB_MESSAGE",
        "TB_RAG_CITATION",
        "TB_RAG_SEARCH_LOG",
        "TB_ROLE_PERMISSION",
        "TB_TENANT_QUOTA"
      ],
      "used_endpoints": [
        "/v1/rag/answer",
        "/v1/rag/answers/{answer_id}/citations",
        "/v1/rag/retrieve"
      ],
      "used_sse_types": [
        "citation",
        "done",
        "error",
        "heartbeat",
        "safe_response",
        "token",
        "tool"
      ]
    },
    {
      "sheet_name": "07_AGT005_템플릿추천",
      "expected_screen_id": "AGT-005",
      "actual_screen_id": "AGT-005",
      "program_text": "TMP-RECOMMEND-BUTTON, TMP-TEMPLATE-LIST, TOOL-CALL-VALIDATE",
      "api_text": "POST /v1/sessions/{session_id}/template-recommendations; GET /v1/admin/templates; POST /v1/internal/tools/validate",
      "role": "AGENT",
      "phase": "PHASE1",
      "has_section_input": true,
      "has_section_button": true,
      "has_section_exception": true,
      "has_section_test": true,
      "has_constraints": true,
      "used_error_codes": [
        "AI-009-409-CITATION",
        "AI-009-409-EVIDENCE",
        "AI-009-422-SCHEMA",
        "API-003-422",
        "API-008-429-BUDGET",
        "RAG-002-422-POLICY",
        "SEC-002-403",
        "SEC-003-409-PII",
        "SYS-001-404",
        "SYS-002-403",
        "SYS-004-409-TRACE"
      ],
      "used_req_ids": [
        "ADM-101",
        "AGT-005",
        "AI-009",
        "API-003",
        "API-007",
        "API-008",
        "RAG-002",
        "SEC-002",
        "SEC-003",
        "SYS-001",
        "SYS-002",
        "SYS-004",
        "TMP-001",
        "TMP-002",
        "TMP-003",
        "TMP-004",
        "TMP-005",
        "TOOL-001",
        "TOOL-002",
        "TOOL-003"
      ],
      "used_tables": [
        "TB_ATTACHMENT",
        "TB_AUDIT_LOG",
        "TB_GUARDRAIL_EVENT",
        "TB_MESSAGE",
        "TB_ROLE_PERMISSION",
        "TB_TEMPLATE_PLACEHOLDER",
        "TB_TEMPLATE_VERSION",
        "TB_TENANT_QUOTA",
        "TB_TOOL_CALL_LOG"
      ],
      "used_endpoints": [
        "/v1/admin/templates",
        "/v1/internal/tools/validate",
        "/v1/sessions/{session_id}/template-recommendations"
      ],
      "used_sse_types": [
        "citation",
        "done",
        "error",
        "heartbeat",
        "safe_response",
        "token",
        "tool"
      ]
    },
    {
      "sheet_name": "08_AGT006_답변편집전송",
      "expected_screen_id": "AGT-006",
      "actual_screen_id": "AGT-006",
      "program_text": "API-MESSAGE-POST, API-QUICKREPLY-POST, OPS-ERROR-CATALOG-UPSERT",
      "api_text": "POST /v1/sessions/{session_id}/messages; POST /v1/sessions/{session_id}/quick-replies/{quick_reply_id}; PUT /v1/admin/errors/catalog/{error_code}",
      "role": "AGENT",
      "phase": "PHASE1",
      "has_section_input": true,
      "has_section_button": true,
      "has_section_exception": true,
      "has_section_test": true,
      "has_constraints": true,
      "used_error_codes": [
        "AI-006-422-TOOL_ARGS",
        "AI-009-409-CITATION",
        "AI-009-409-EVIDENCE",
        "AI-009-422-SCHEMA",
        "API-003-422",
        "API-008-429-BUDGET",
        "RAG-002-422-POLICY",
        "SEC-002-403",
        "SEC-003-409-PII",
        "SYS-001-404",
        "SYS-002-403",
        "SYS-004-409-TRACE"
      ],
      "used_req_ids": [
        "ADM-101",
        "AGT-006",
        "AI-001",
        "AI-002",
        "AI-003",
        "AI-006",
        "AI-007",
        "AI-009",
        "API-003",
        "API-007",
        "API-008",
        "RAG-002",
        "SEC-002",
        "SEC-003",
        "SYS-001",
        "SYS-002",
        "SYS-004",
        "TMP-002",
        "TMP-003",
        "TMP-004",
        "UI-005",
        "UI-009"
      ],
      "used_tables": [
        "TB_ANSWER_BANK",
        "TB_ATTACHMENT",
        "TB_AUDIT_LOG",
        "TB_GUARDRAIL_EVENT",
        "TB_MESSAGE",
        "TB_POLICY_VERSION",
        "TB_ROLE_PERMISSION",
        "TB_TEMPLATE_VERSION",
        "TB_TENANT_QUOTA"
      ],
      "used_endpoints": [
        "/v1/admin/errors/catalog/{error_code}",
        "/v1/sessions/{session_id}/messages",
        "/v1/sessions/{session_id}/quick-replies/{quick_reply_id}"
      ],
      "used_sse_types": [
        "citation",
        "done",
        "error",
        "heartbeat",
        "safe_response",
        "token",
        "tool"
      ]
    },
    {
      "sheet_name": "09_AGT007_차단세이프응답",
      "expected_screen_id": "AGT-007",
      "actual_screen_id": "AGT-007",
      "program_text": "API-RAG-ANSWER, OPS-ERROR-CATALOG-UPSERT, OPS-AUDIT-LOG-QUERY",
      "api_text": "POST /v1/rag/answer; PUT /v1/admin/errors/catalog/{error_code}; GET /v1/admin/audit-logs",
      "role": "AGENT",
      "phase": "PHASE1",
      "has_section_input": true,
      "has_section_button": true,
      "has_section_exception": true,
      "has_section_test": true,
      "has_constraints": true,
      "used_error_codes": [
        "AI-006-504-TOOL_TIMEOUT",
        "AI-009-409-CITATION",
        "AI-009-409-EVIDENCE",
        "AI-009-422-SCHEMA",
        "API-003-422",
        "API-008-429-BUDGET",
        "RAG-002-422-POLICY",
        "SEC-002-403",
        "SEC-003-409-PII",
        "SYS-001-404",
        "SYS-002-403",
        "SYS-004-409-TRACE"
      ],
      "used_req_ids": [
        "ADM-101",
        "AGT-007",
        "AI-001",
        "AI-002",
        "AI-003",
        "AI-006",
        "AI-009",
        "API-003",
        "API-007",
        "API-008",
        "RAG-002",
        "SEC-002",
        "SEC-003",
        "SYS-001",
        "SYS-002",
        "SYS-003",
        "SYS-004",
        "TMP-003",
        "UI-006"
      ],
      "used_tables": [
        "TB_ANSWER_BANK",
        "TB_ATTACHMENT",
        "TB_AUDIT_LOG",
        "TB_ERROR_CATALOG",
        "TB_GUARDRAIL_EVENT",
        "TB_MESSAGE",
        "TB_ROLE_PERMISSION",
        "TB_TENANT_QUOTA"
      ],
      "used_endpoints": [
        "/v1/admin/audit-logs",
        "/v1/admin/errors/catalog/{error_code}",
        "/v1/rag/answer"
      ],
      "used_sse_types": [
        "citation",
        "done",
        "error",
        "heartbeat",
        "safe_response",
        "token",
        "tool"
      ]
    },
    {
      "sheet_name": "10_CUS001_위젯부트스트랩",
      "expected_screen_id": "CUS-001",
      "actual_screen_id": "CUS-001",
      "program_text": "API-SESSION-CREATE, API-SESSION-GET, API-SESSION-BOOTSTRAP, API-SESSION-CLOSE",
      "api_text": "POST /v1/sessions; GET /v1/sessions/{session_id}; GET /v1/chat/bootstrap; POST /v1/sessions/{session_id}/close",
      "role": "CUSTOMER",
      "phase": "PHASE2",
      "has_section_input": true,
      "has_section_button": true,
      "has_section_exception": true,
      "has_section_test": true,
      "has_constraints": true,
      "used_error_codes": [
        "AI-009-409-CITATION",
        "AI-009-409-EVIDENCE",
        "AI-009-422-SCHEMA",
        "API-002-409-CLOSED",
        "API-003-422",
        "API-008-429-BUDGET",
        "RAG-002-422-POLICY",
        "SEC-002-403",
        "SEC-003-409-PII",
        "SYS-001-404",
        "SYS-002-403",
        "SYS-004-409-TRACE"
      ],
      "used_req_ids": [
        "ADM-101",
        "AI-001",
        "AI-002",
        "AI-009",
        "API-001",
        "API-002",
        "API-003",
        "API-007",
        "API-008",
        "CUS-001",
        "RAG-002",
        "SEC-002",
        "SEC-003",
        "SYS-001",
        "SYS-002",
        "SYS-004",
        "TMP-003",
        "UI-001",
        "UI-007"
      ],
      "used_tables": [
        "TB_ATTACHMENT",
        "TB_AUDIT_LOG",
        "TB_AUTH_SESSION",
        "TB_CHANNEL",
        "TB_CONVERSATION",
        "TB_CUSTOMER",
        "TB_CUSTOMER_IDENTITY",
        "TB_GUARDRAIL_EVENT",
        "TB_MESSAGE",
        "TB_ROLE_PERMISSION",
        "TB_TENANT_QUOTA",
        "TB_WIDGET_INSTANCE"
      ],
      "used_endpoints": [
        "/v1/chat/bootstrap",
        "/v1/sessions",
        "/v1/sessions/{session_id}",
        "/v1/sessions/{session_id}/close"
      ],
      "used_sse_types": [
        "citation",
        "done",
        "error",
        "heartbeat",
        "safe_response",
        "token",
        "tool"
      ]
    },
    {
      "sheet_name": "11_CUS002_첨부메시지",
      "expected_screen_id": "CUS-002",
      "actual_screen_id": "CUS-002",
      "program_text": "API-ATTACHMENT-PRESIGN, API-ATTACHMENT-COMPLETE, API-MESSAGE-POST",
      "api_text": "POST /v1/attachments/presign; POST /v1/attachments/{attachment_id}/complete; POST /v1/sessions/{session_id}/messages",
      "role": "CUSTOMER",
      "phase": "PHASE2",
      "has_section_input": true,
      "has_section_button": true,
      "has_section_exception": true,
      "has_section_test": true,
      "has_constraints": true,
      "used_error_codes": [
        "AI-009-409-CITATION",
        "AI-009-409-EVIDENCE",
        "AI-009-422-SCHEMA",
        "API-008-429-BUDGET",
        "RAG-002-422-POLICY",
        "SEC-002-403",
        "SEC-003-409-PII",
        "SEC-003-422-ATTACHMENT_PII"
      ],
      "used_req_ids": [
        "ADM-101",
        "AI-001",
        "AI-002",
        "AI-009",
        "API-001",
        "API-002",
        "API-003",
        "API-005",
        "API-007",
        "API-008",
        "CUS-002",
        "RAG-002",
        "SEC-002",
        "SEC-003",
        "SYS-004",
        "TMP-003",
        "UI-003",
        "UI-009"
      ],
      "used_tables": [
        "TB_ATTACHMENT",
        "TB_AUDIT_LOG",
        "TB_CHANNEL",
        "TB_CUSTOMER",
        "TB_CUSTOMER_IDENTITY",
        "TB_GUARDRAIL_EVENT",
        "TB_MESSAGE",
        "TB_MESSAGE_ATTACHMENT",
        "TB_ROLE_PERMISSION",
        "TB_TENANT_QUOTA"
      ],
      "used_endpoints": [
        "/v1/attachments/presign",
        "/v1/attachments/{attachment_id}/complete",
        "/v1/sessions/{session_id}/messages"
      ],
      "used_sse_types": [
        "citation",
        "done",
        "error",
        "heartbeat",
        "safe_response",
        "token",
        "tool"
      ]
    },
    {
      "sheet_name": "12_CUS003_CSAT핸드오프",
      "expected_screen_id": "CUS-003",
      "actual_screen_id": "CUS-003",
      "program_text": "API-CSAT-POST, API-HANDOFF-REQUEST, INT-HANDOFF-SYNC",
      "api_text": "POST /v1/sessions/{session_id}/csat; POST /v1/sessions/{session_id}/handoff; POST /v1/integrations/crm/handoffs",
      "role": "CUSTOMER",
      "phase": "PHASE2",
      "has_section_input": true,
      "has_section_button": true,
      "has_section_exception": true,
      "has_section_test": true,
      "has_constraints": true,
      "used_error_codes": [
        "AI-009-409-CITATION",
        "AI-009-409-EVIDENCE",
        "AI-009-422-SCHEMA",
        "API-003-422",
        "API-008-429-BUDGET",
        "RAG-002-422-POLICY",
        "SEC-002-403",
        "SEC-003-409-PII"
      ],
      "used_req_ids": [
        "ADM-101",
        "AI-009",
        "API-003",
        "API-005",
        "API-007",
        "API-008",
        "CUS-003",
        "INT-001",
        "INT-002",
        "INT-003",
        "RAG-002",
        "SEC-002",
        "SEC-003",
        "SYS-004",
        "TMP-003",
        "UI-007"
      ],
      "used_tables": [
        "TB_ATTACHMENT",
        "TB_AUDIT_LOG",
        "TB_GUARDRAIL_EVENT",
        "TB_INTEGRATION_LOG",
        "TB_MESSAGE",
        "TB_MESSAGE_FEEDBACK",
        "TB_ROLE_PERMISSION",
        "TB_TENANT_QUOTA",
        "TB_WEBHOOK_ENDPOINT"
      ],
      "used_endpoints": [
        "/v1/integrations/crm/handoffs",
        "/v1/sessions/{session_id}/csat",
        "/v1/sessions/{session_id}/handoff"
      ],
      "used_sse_types": [
        "citation",
        "done",
        "error",
        "heartbeat",
        "safe_response",
        "token",
        "tool"
      ]
    },
    {
      "sheet_name": "13_ADM001_정책프롬프트승인",
      "expected_screen_id": "ADM-001",
      "actual_screen_id": "ADM-001",
      "program_text": "ADM-POLICY-UPDATE, OPS-DEPLOY-APPROVAL-CREATE, OPS-DEPLOY-APPROVAL-ACT, OPS-CHANGE-NOTICE-PUBLISH, ADM-RBAC-MATRIX-UPSERT, ADM-ROUTING-RULE-UPSERT, ADM-ROUTING-RULE-TEST, ADM-TENANT-QUOTA-UPSERT, ADM-VERSION-BUNDLE-LIST, ADM-VERSION-BUNDLE-ACTIVATE, ADM-VERSION-BUNDLE-ROLLBACK",
      "api_text": "PUT /v1/admin/policies/{policy_id}; POST /v1/admin/deploy-approvals; POST /v1/admin/deploy-approvals/{approval_id}/actions/{action}; POST /v1/admin/change-notices/{notice_id}/publish; PUT /v1/admin/rbac/matrix/{resource_key}; PUT /v1/admin/routing-rules/{rule_id}; POST /v1/admin/routing-rules/test; PUT /v1/admin/tenants/{tenant_id}/quota; GET /v1/admin/version-bundles; POST /v1/admin/version-bundles/{bundle_id}/activate; POST /v1/admin/version-bundles/{bundle_id}/rollback",
      "role": "ADMIN",
      "phase": "PHASE1",
      "has_section_input": true,
      "has_section_button": true,
      "has_section_exception": true,
      "has_section_test": true,
      "has_constraints": true,
      "used_error_codes": [
        "ADM-006-404-NOTICE",
        "ADM-101-409-NOT_APPROVED",
        "AI-009-409-CITATION",
        "AI-009-409-EVIDENCE",
        "AI-009-422-SCHEMA",
        "API-003-422",
        "API-008-429-BUDGET",
        "RAG-002-422-POLICY",
        "SEC-002-403",
        "SEC-003-409-PII",
        "SYS-001-404",
        "SYS-002-403",
        "SYS-004-409-TRACE"
      ],
      "used_req_ids": [
        "ADM-001",
        "ADM-003",
        "ADM-006",
        "ADM-007",
        "ADM-101",
        "AI-008",
        "AI-009",
        "API-003",
        "API-007",
        "API-008",
        "OPS-101",
        "RAG-002",
        "SEC-002",
        "SEC-003",
        "SYS-001",
        "SYS-002",
        "SYS-004",
        "TMP-003"
      ],
      "used_tables": [
        "TB_ATTACHMENT",
        "TB_AUDIT_LOG",
        "TB_GUARDRAIL_EVENT",
        "TB_MESSAGE",
        "TB_NOTIFICATION_RULE",
        "TB_PERMISSION",
        "TB_POLICY",
        "TB_POLICY_VERSION",
        "TB_PROMPT",
        "TB_PROMPT_VERSION",
        "TB_ROLE",
        "TB_ROLE_PERMISSION",
        "TB_TENANT_QUOTA"
      ],
      "used_endpoints": [
        "/v1/admin/change-notices/{notice_id}/publish",
        "/v1/admin/deploy-approvals",
        "/v1/admin/deploy-approvals/{approval_id}/actions/{action}",
        "/v1/admin/policies/{policy_id}",
        "/v1/admin/rbac/matrix/{resource_key}",
        "/v1/admin/routing-rules/test",
        "/v1/admin/routing-rules/{rule_id}",
        "/v1/admin/tenants/{tenant_id}/quota",
        "/v1/admin/version-bundles",
        "/v1/admin/version-bundles/{bundle_id}/activate",
        "/v1/admin/version-bundles/{bundle_id}/rollback"
      ],
      "used_sse_types": [
        "citation",
        "done",
        "error",
        "heartbeat",
        "safe_response",
        "token",
        "tool"
      ]
    },
    {
      "sheet_name": "14_ADM002_템플릿버전배포",
      "expected_screen_id": "ADM-002",
      "actual_screen_id": "ADM-002",
      "program_text": "TMP-TEMPLATE-CREATE, TMP-TEMPLATE-APPROVE, TMP-TEMPLATE-DEPLOY, TMP-TEMPLATE-ROLLBACK",
      "api_text": "POST /v1/admin/templates; POST /v1/admin/templates/{template_id}/approve; POST /v1/admin/templates/{template_id}/deploy; POST /v1/admin/templates/{template_id}/rollback",
      "role": "ADMIN",
      "phase": "PHASE1",
      "has_section_input": true,
      "has_section_button": true,
      "has_section_exception": true,
      "has_section_test": true,
      "has_constraints": true,
      "used_error_codes": [
        "AI-009-409-CITATION",
        "AI-009-409-EVIDENCE",
        "AI-009-422-SCHEMA",
        "API-003-422",
        "API-008-429-BUDGET",
        "RAG-002-422-POLICY",
        "SEC-002-403",
        "SEC-003-409-PII",
        "SYS-001-404",
        "SYS-002-403",
        "SYS-004-409-TRACE"
      ],
      "used_req_ids": [
        "ADM-002",
        "ADM-007",
        "ADM-101",
        "AI-009",
        "API-003",
        "API-007",
        "API-008",
        "RAG-002",
        "SEC-002",
        "SEC-003",
        "SYS-001",
        "SYS-002",
        "SYS-004",
        "TMP-001",
        "TMP-003",
        "TMP-004",
        "TMP-005"
      ],
      "used_tables": [
        "TB_ATTACHMENT",
        "TB_AUDIT_LOG",
        "TB_GUARDRAIL_EVENT",
        "TB_MESSAGE",
        "TB_ROLE_PERMISSION",
        "TB_TEMPLATE",
        "TB_TEMPLATE_POLICY_MAP",
        "TB_TEMPLATE_VERSION",
        "TB_TENANT_QUOTA"
      ],
      "used_endpoints": [
        "/v1/admin/templates",
        "/v1/admin/templates/{template_id}/approve",
        "/v1/admin/templates/{template_id}/deploy",
        "/v1/admin/templates/{template_id}/rollback"
      ],
      "used_sse_types": [
        "citation",
        "done",
        "error",
        "heartbeat",
        "safe_response",
        "token",
        "tool"
      ]
    },
    {
      "sheet_name": "15_ADM003_KB모델툴MCP",
      "expected_screen_id": "ADM-003",
      "actual_screen_id": "ADM-003",
      "program_text": "KB-DOC-UPLOAD, KB-DOC-APPROVE, KB-REINDEX-REQUEST, ADM-MODEL-LIST, ADM-MODEL-ACTIVATE, MCP-SERVER-UPSERT, TOOL-ALLOWLIST-UPDATE, KB-DOC-ROLLBACK, ADM-MODEL-ROLLBACK, ADM-PROVIDER-KEY-UPSERT, ADM-PROVIDER-KEY-ROTATE, ADM-PROVIDER-SECRETREF-BIND, MCP-SERVER-HEALTH",
      "api_text": "POST /v1/admin/kb/documents; POST /v1/admin/kb/documents/{doc_id}/approve; POST /v1/admin/kb/reindex; GET /v1/admin/models; POST /v1/admin/kb/documents/{doc_id}/versions/{version}/rollback; POST /v1/admin/models/{model_id}/rollback; PUT /v1/admin/provider-keys/{provider}; POST /v1/admin/provider-keys/{provider}/rotate; POST /v1/admin/providers/{provider_id}/secret-ref; GET /v1/ops/mcp/servers/{server_id}/health",
      "role": "ADMIN",
      "phase": "PHASE2",
      "has_section_input": true,
      "has_section_button": true,
      "has_section_exception": true,
      "has_section_test": true,
      "has_constraints": true,
      "used_error_codes": [
        "AI-009-409-CITATION",
        "AI-009-409-EVIDENCE",
        "AI-009-422-SCHEMA",
        "API-003-422",
        "API-008-429-BUDGET",
        "LLM-003-409-ROLLBACK",
        "RAG-002-422-POLICY",
        "SEC-002-403",
        "SEC-003-409-PII",
        "SEC-003-422-SECRET_REF",
        "SYS-001-404",
        "SYS-002-403",
        "SYS-004-409-TRACE"
      ],
      "used_req_ids": [
        "ADM-003",
        "ADM-004",
        "ADM-005",
        "ADM-101",
        "ADM-102",
        "AI-008",
        "AI-009",
        "API-003",
        "API-007",
        "API-008",
        "ETL-001",
        "KB-001",
        "KB-002",
        "KB-003",
        "LLM-001",
        "LLM-002",
        "LLM-003",
        "MCP-001",
        "MCP-002",
        "OPS-101",
        "RAG-002",
        "SEC-002",
        "SEC-003",
        "SYS-001",
        "SYS-002",
        "SYS-004",
        "TMP-003",
        "TOOL-001"
      ],
      "used_tables": [
        "TB_ATTACHMENT",
        "TB_AUDIT_LOG",
        "TB_GUARDRAIL_EVENT",
        "TB_KB",
        "TB_KB_CHUNK",
        "TB_KB_CHUNK_EMBEDDING",
        "TB_KB_DOCUMENT",
        "TB_KB_INGEST_JOB",
        "TB_KB_SOURCE",
        "TB_LLM_MODEL",
        "TB_LLM_PROVIDER",
        "TB_LLM_ROUTE",
        "TB_MESSAGE",
        "TB_PROVIDER_KEY",
        "TB_ROLE_PERMISSION",
        "TB_TENANT_QUOTA",
        "TB_TOOL_DEFINITION"
      ],
      "used_endpoints": [
        "/v1/admin/kb/documents",
        "/v1/admin/kb/documents/{doc_id}/approve",
        "/v1/admin/kb/documents/{doc_id}/versions/{version}/rollback",
        "/v1/admin/kb/reindex",
        "/v1/admin/mcp/servers/{server_id}",
        "/v1/admin/models",
        "/v1/admin/models/{model_id}/activate",
        "/v1/admin/models/{model_id}/rollback",
        "/v1/admin/provider-keys/{provider}",
        "/v1/admin/provider-keys/{provider}/rotate",
        "/v1/admin/providers/{provider_id}/secret-ref",
        "/v1/admin/tools/allowlist/{tool_name}",
        "/v1/ops/mcp/servers/{server_id}/health"
      ],
      "used_sse_types": [
        "citation",
        "done",
        "error",
        "heartbeat",
        "safe_response",
        "token",
        "tool"
      ]
    },
    {
      "sheet_name": "16_OPS001_대시보드모니터링",
      "expected_screen_id": "OPS-001",
      "actual_screen_id": "OPS-001",
      "program_text": "OPS-METRIC-SUMMARY, OPS-ADMIN-DASHBOARD-SUMMARY, OPS-TENANT-BILLING-REPORT, OPS-ADMIN-DASHBOARD-SERIES, OPS-KB-INDEX-STATUS, KB-REINDEX-STATUS, KB-HYBRID-SEARCH-TEST, LLM-PROVIDER-HEALTH",
      "api_text": "GET /v1/ops/metrics/summary; GET /v1/admin/dashboard/summary; GET /v1/admin/tenants/{tenant_id}/usage-report; GET /v1/admin/dashboard/series; GET /v1/admin/kb/index-operations; GET /v1/admin/kb/reindex/{job_id}; POST /v1/admin/kb/search/test; GET /v1/ops/llm/providers/health",
      "role": "OPS",
      "phase": "PHASE1",
      "has_section_input": true,
      "has_section_button": true,
      "has_section_exception": true,
      "has_section_test": true,
      "has_constraints": true,
      "used_error_codes": [
        "AI-009-409-CITATION",
        "AI-009-409-EVIDENCE",
        "AI-009-422-SCHEMA",
        "API-003-422",
        "API-008-429-BUDGET",
        "ETL-001-404-JOB",
        "RAG-002-422-POLICY",
        "SEC-002-403",
        "SEC-003-409-PII",
        "SYS-001-404",
        "SYS-002-403",
        "SYS-004-409-TRACE"
      ],
      "used_req_ids": [
        "ADM-101",
        "AI-009",
        "API-003",
        "API-006",
        "API-007",
        "API-008",
        "ETL-001",
        "OPS-001",
        "OPS-100",
        "OPS-101",
        "OPS-102",
        "PERF-001",
        "RAG-002",
        "SEC-002",
        "SEC-003",
        "SEC-004",
        "SYS-001",
        "SYS-002",
        "SYS-004",
        "TMP-003"
      ],
      "used_tables": [
        "TB_API_METRIC_HOURLY",
        "TB_ATTACHMENT",
        "TB_AUDIT_LOG",
        "TB_COST_RATE_CARD",
        "TB_GENERATION_LOG",
        "TB_GUARDRAIL_EVENT",
        "TB_KB",
        "TB_KB_CHUNK",
        "TB_KB_CHUNK_EMBEDDING",
        "TB_KB_INDEX_VERSION",
        "TB_KB_SOURCE",
        "TB_MESSAGE",
        "TB_OPS_EVENT",
        "TB_ROLE_PERMISSION",
        "TB_TENANT_PLAN",
        "TB_TENANT_QUOTA",
        "TB_TENANT_SUBSCRIPTION",
        "TB_TENANT_USAGE_DAILY",
        "TB_TENANT_USAGE_MONTHLY",
        "TB_VECTOR_INDEX_STATUS"
      ],
      "used_endpoints": [
        "/v1/admin/dashboard/series",
        "/v1/admin/dashboard/summary",
        "/v1/admin/kb/index-operations",
        "/v1/admin/kb/reindex/{job_id}",
        "/v1/admin/kb/search/test",
        "/v1/admin/tenants/{tenant_id}/usage-report",
        "/v1/ops/llm/providers/health",
        "/v1/ops/metrics/summary"
      ],
      "used_sse_types": [
        "citation",
        "done",
        "error",
        "heartbeat",
        "safe_response",
        "token",
        "tool"
      ]
    },
    {
      "sheet_name": "17_OPS002_감사로그즉시조치",
      "expected_screen_id": "OPS-002",
      "actual_screen_id": "OPS-002",
      "program_text": "OPS-TRACE-QUERY, OPS-AUDIT-LOG-QUERY, OPS-AUDIT-CHANGE-DIFF, OPS-BLOCK-UPSERT, OPS-PROVIDER-KILLSWITCH, OPS-ROLLBACK-TRIGGER, INT-WORKFLOW-REPORT",
      "api_text": "GET /v1/ops/traces; GET /v1/admin/audit-logs; GET /v1/admin/audit-logs/{audit_id}/diff; PUT /v1/ops/blocks/{block_id}; GET /v1/ops/workflow/reports",
      "role": "OPS",
      "phase": "PHASE1",
      "has_section_input": true,
      "has_section_button": true,
      "has_section_exception": true,
      "has_section_test": true,
      "has_constraints": true,
      "used_error_codes": [
        "AI-009-409-CITATION",
        "AI-009-409-EVIDENCE",
        "AI-009-422-SCHEMA",
        "API-003-422",
        "API-008-429-BUDGET",
        "RAG-002-422-POLICY",
        "SEC-002-403",
        "SEC-003-409-PII",
        "SYS-001-404",
        "SYS-002-403",
        "SYS-004-409-TRACE"
      ],
      "used_req_ids": [
        "ADM-100",
        "ADM-101",
        "AI-009",
        "API-003",
        "API-006",
        "API-007",
        "API-008",
        "OPS-002",
        "OPS-003",
        "OPS-101",
        "OPS-103",
        "RAG-002",
        "SEC-002",
        "SEC-003",
        "SYS-001",
        "SYS-002",
        "SYS-004",
        "TMP-003"
      ],
      "used_tables": [
        "TB_ATTACHMENT",
        "TB_AUDIT_LOG",
        "TB_ERROR_CATALOG",
        "TB_GUARDRAIL_EVENT",
        "TB_MESSAGE",
        "TB_OPS_EVENT",
        "TB_ROLE_PERMISSION",
        "TB_TENANT",
        "TB_TENANT_QUOTA",
        "TB_USER"
      ],
      "used_endpoints": [
        "/v1/admin/audit-logs",
        "/v1/admin/audit-logs/{audit_id}/diff",
        "/v1/ops/blocks/{block_id}",
        "/v1/ops/llm/providers/{provider}/kill-switch",
        "/v1/ops/rollbacks",
        "/v1/ops/traces",
        "/v1/ops/workflow/reports"
      ],
      "used_sse_types": [
        "citation",
        "done",
        "error",
        "heartbeat",
        "safe_response",
        "token",
        "tool"
      ]
    }
  ],
  "screen_id_mismatch": [],
  "missing_mandatory_fields": [],
  "missing_sections": [],
  "missing_constraints": [],
  "error_code_mismatch": [
    "ADM-006-404-NOTICE",
    "ADM-101-409-NOT_APPROVED",
    "AI-002-409-LOW_CONFIDENCE",
    "AI-006-403-TOOL_DENY",
    "AI-006-422-TOOL_ARGS",
    "AI-006-504-TOOL_TIMEOUT",
    "API-002-409-CLOSED",
    "ETL-001-404-JOB",
    "LLM-003-409-ROLLBACK",
    "SEC-001-401-UNAUTH",
    "SEC-003-422-ATTACHMENT_PII",
    "SEC-003-422-SECRET_REF"
  ],
  "role_mismatch": [],
  "sse_mismatch": [],
  "trace_incomplete": [],
  "toc_missing": [],
  "toc_extra": [],
  "api_unmapped": [
    "-",
    "/v1/internal/events/ingest",
    "/v1/internal/mcp/call",
    "/v1/internal/tools/execute"
  ],
  "db_unmapped": [
    "TB_EXPORT_JOB"
  ],
  "req_unmapped": [
    "API-403"
  ],
  "checks": [
    {
      "section": "B1",
      "item": "00_통합목차에 모든 시트가 등록되었는가",
      "status": "PASS",
      "missing_count": 0,
      "note": "missing:0, extra:0"
    },
    {
      "section": "B1",
      "item": "필수 시트가 존재하는가",
      "status": "PASS",
      "missing_count": 0,
      "note": ""
    },
    {
      "section": "B2",
      "item": "화면ID가 시트명 패턴과 일치하는가",
      "status": "PASS",
      "missing_count": 0,
      "note": "mismatch list 참고"
    },
    {
      "section": "B2",
      "item": "프로그램ID/API/권한/개발일(Phase) 필드 누락이 없는가",
      "status": "PASS",
      "missing_count": 0,
      "note": "missing field list 참고"
    },
    {
      "section": "B2",
      "item": "필수 섹션(입력/버튼/예외/단위테스트) 누락이 없는가",
      "status": "PASS",
      "missing_count": 0,
      "note": "missing section list 참고"
    },
    {
      "section": "B2",
      "item": "프로젝트 공통 제약 표가 모든 화면 시트에 존재하는가",
      "status": "PASS",
      "missing_count": 0,
      "note": "constraints missing list 참고"
    },
    {
      "section": "B3",
      "item": "화면 시트 에러코드가 01_에러메시지코드와 일치하는가",
      "status": "FAIL",
      "missing_count": 12,
      "note": "error mismatch list 참고"
    },
    {
      "section": "B3",
      "item": "화면 권한 값이 02_추가종합코드 ROLE 그룹과 일치하는가",
      "status": "PASS",
      "missing_count": 0,
      "note": "role mismatch list 참고"
    },
    {
      "section": "B3",
      "item": "SSE 이벤트 타입이 02_추가종합코드(SSE_EVENT_TYPE)에 정의되어 있는가",
      "status": "PASS",
      "missing_count": 0,
      "note": "sse mismatch list 참고"
    },
    {
      "section": "B3",
      "item": "91_추적성매트릭스 ReqID→Screen→API→DB→Telemetry 링크가 최소 연결되는가",
      "status": "PASS",
      "missing_count": 0,
      "note": "trace incomplete list 참고"
    },
    {
      "section": "B4",
      "item": "API 미매핑 목록",
      "status": "FAIL",
      "missing_count": 4,
      "note": "api unmapped list 참고"
    },
    {
      "section": "B4",
      "item": "DB 미매핑 목록",
      "status": "FAIL",
      "missing_count": 1,
      "note": "db unmapped list 참고"
    },
    {
      "section": "B4",
      "item": "ReqID 미매핑 목록",
      "status": "FAIL",
      "missing_count": 1,
      "note": "req unmapped list 참고"
    }
  ],
  "pass_count": 9,
  "fail_count": 4
}